"use strict";var repo=require("./scripts/repo.js"),price=require("./scripts/price.js"),utils=require("./scripts/utils.js"),yargs=require("yargs");function getPortfolioAmt(r,t){var s,a,n,i,o,c;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return s=new Map,a=new Map,n=new Map,i=utils.processInputs(r,t),o="1",isNaN(r)||(o="2"),e.next=8,regeneratorRuntime.awrap(repo.getCsvData(i[0]));case 8:return s=e.sent,c=Array.from(s.keys()),e.next=12,regeneratorRuntime.awrap(price.fetchPrice(c,o,i[0]));case 12:n=e.sent,a=utils.getPortfolio(s,n),""!=i[1]&&-1<c.indexOf(i[1])?console.log(i[1]+" : "+a.get(i[1])):c.forEach(function(e){console.log(e+" : "+a.get(e))});case 15:case"end":return e.stop()}})}yargs.options({token:{describe:"token type",type:"string",alias:"t"},date:{describe:"date in dd/mm/yyyy format",type:"string",alias:"d"}}),getPortfolioAmt(yargs.argv.date,yargs.argv.token);