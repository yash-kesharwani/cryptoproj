"use strict";var repo=require("./repo.js"),price=require("./price.js"),utils=require("./utils.js"),yargs=require("yargs");function getPortfolioAmt(r,t){var s,a,n,o,i,c;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return s=new Map,a=new Map,n=new Map,o=utils.processInputs(r,t),i="1",isNaN(r)||(i="2"),e.next=8,regeneratorRuntime.awrap(repo.getCsvData(o[0]));case 8:return s=e.sent,c=Array.from(s.keys()),e.next=12,regeneratorRuntime.awrap(price.fetchPrice(c,i,o[0]));case 12:n=e.sent,a=utils.getPortfolio(s,n),""!=o[1]&&-1<c.indexOf(o[1])?console.log(o[1]+" : "+a.get(o[1])):c.forEach(function(e){console.log(e+" : "+a.get(e))});case 15:case"end":return e.stop()}})}yargs.options({token:{describe:"token type",type:"string",alias:"t"},date:{describe:"date in dd/mm/yyyy format",type:"string",alias:"d"}}),getPortfolioAmt(yargs.argv.date,yargs.argv.token);