"use strict";var utils=require("./utils.js");function fetchPrice(t,r,a){var c,s,n,i,u,p,l,o,b,f;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=new Map,"1"==r)return s=utils.getTokensForUrl(t,r),n="https://min-api.cryptocompare.com/data/pricemulti?fsyms="+s+"&tsyms=USD&api_key=1eb0c830883336ceb836ea59f08d0d5346ae2030972a7341d7ebe5c4bd2ec561",e.t0=utils,e.next=7,regeneratorRuntime.awrap(utils.callApi(n));e.next=12;break;case 7:return e.t1=e.sent,c=e.t0.processRateObj.call(e.t0,e.t1),e.abrupt("return",c);case 12:if("2"!=r){e.next=45;break}u=!(i=!0),p=void 0,e.prev=16,l=t[Symbol.iterator]();case 18:if(i=(o=l.next()).done){e.next=28;break}return b=o.value,n="https://min-api.cryptocompare.com/data/pricehistorical?fsym="+b+"&tsyms=USD&ts="+a+"&api_key=1eb0c830883336ceb836ea59f08d0d5346ae2030972a7341d7ebe5c4bd2ec561",e.next=23,regeneratorRuntime.awrap(utils.callApi(n));case 23:f=e.sent,c.set(b,f[b].USD);case 25:i=!0,e.next=18;break;case 28:e.next=34;break;case 30:e.prev=30,e.t2=e.catch(16),u=!0,p=e.t2;case 34:e.prev=34,e.prev=35,i||null==l.return||l.return();case 37:if(e.prev=37,u)throw p;e.next=40;break;case 40:return e.finish(37);case 41:return e.finish(34);case 42:return e.abrupt("return",c);case 45:console.log("ERROR: invalid type");case 46:case"end":return e.stop()}},null,null,[[16,30,34,42],[35,,37,41]])}module.exports={fetchPrice:fetchPrice};